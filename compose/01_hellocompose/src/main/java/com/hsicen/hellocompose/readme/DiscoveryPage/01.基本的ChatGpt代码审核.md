æˆ‘çœ‹äº†ä½ çš„ä»£ç ï¼Œè¿™æ˜¯ä¸€ä¸ªæ¨¡ä»¿å¾®ä¿¡ã€Œå‘ç°é¡µã€çš„ Jetpack Compose å®ç°ã€‚æ•´ä½“å†™å¾—å·²ç»æ¯”è¾ƒæ¸…æ™°äº†ï¼Œä¸è¿‡è¿™é‡Œæœ‰ä¸€äº›ä¼˜åŒ–å»ºè®®ï¼Œæ—¢èƒ½è®©ä»£ç æ›´ç®€æ´ï¼Œä¹Ÿèƒ½è®© UI åœ¨ä¸åŒåœºæ™¯ä¸‹æ›´å®¹æ˜“æ‰©å±•ã€‚

---

### å¯ä»¥ä¼˜åŒ–çš„ç‚¹

#### 1. é‡å¤ Spacer çš„æŠ½å–

ä½ å¤šå¤„ä½¿ç”¨äº†ç›¸åŒçš„

```kotlin
Spacer(
  Modifier
    .background(WeComposeTheme.colors.background)
    .fillMaxWidth()
    .height(8.dp)
)
```

è¿™ä¸ªå¯ä»¥æŠ½æˆä¸€ä¸ªé€šç”¨çš„ `SectionSpacer()`ï¼Œè¿™æ ·é¡µé¢ç»“æ„æ›´æ¸…æ™°ï¼š

```kotlin
@Composable
fun SectionSpacer(height: Dp = 8.dp) {
  Spacer(
    Modifier
      .background(WeComposeTheme.colors.background)
      .fillMaxWidth()
      .height(height)
  )
}
```

ç„¶åé¡µé¢é‡Œç›´æ¥å†™ï¼š

```kotlin
SectionSpacer()
```

---

#### 2. `DiscoveryListItem` çš„å¤ç”¨å¢å¼º

ä½ ç°åœ¨åœ¨ `DiscoveryListItem` é‡Œé¢å†™äº† `badge` å’Œ `endBadge`ï¼Œè¿™å¾ˆå¥½ã€‚ä½†æœ‰ä¸€ä¸ªå°ä¼˜åŒ–ç‚¹ï¼š
ğŸ‘‰ å¯ä»¥ç»Ÿä¸€æŠŠ `modifier` ä¹Ÿä¼ ç»™æœ€å¤–å±‚ `Row`ï¼Œè¿™æ ·ä½¿ç”¨è€…å¯ä»¥æ›´è‡ªç”±åœ°åŠ èƒŒæ™¯ã€ç‚¹å‡»äº‹ä»¶ã€‚

ä¿®æ”¹ï¼š

```kotlin
Row(
  modifier
    .fillMaxWidth()
    .clickable { /* TODO: click event */ },
  verticalAlignment = Alignment.CenterVertically
) { ... }
```

---

#### 3. Divider çš„å°è£…

ä½ å†™çš„ `Divider(startIndent = 56.dp, thickness = 0.8f.dp)` å…¶å®ä¹Ÿé‡å¤æ€§æ¯”è¾ƒå¼ºï¼Œå¯ä»¥æŠ½ä¸ª `ListDivider()`ï¼š

```kotlin
@Composable
fun ListDivider(startIndent: Dp = 56.dp) {
  Divider(
    startIndent = startIndent,
    color = WeComposeTheme.colors.chatListDivider,
    thickness = 0.8f.dp
  )
}
```

ç”¨çš„æ—¶å€™å°±å†™ï¼š

```kotlin
ListDivider()
```

---

#### 4. å¤´åƒå’Œè§’æ ‡å¤ç”¨

å¤´åƒåŠ è½½å’Œè£å‰ªã€æœªè¯»è§’æ ‡ç°åœ¨æ˜¯æ•£è½åœ¨ `DiscoveryPage` é‡Œçš„ï¼Œå¯ä»¥è€ƒè™‘æå–æˆå°ç»„ä»¶ã€‚
æ¯”å¦‚ï¼š

```kotlin
@Composable
fun Avatar(
  @DrawableRes res: Int,
  modifier: Modifier = Modifier,
  size: Dp = 32.dp,
  corner: Dp = 4.dp
) {
  Image(
    painterResource(res), "avatar",
    modifier
      .size(size)
      .clip(RoundedCornerShape(corner))
  )
}
```

è¿™æ · `endBadge` é‡Œå¯ä»¥ç›´æ¥å†™ï¼š

```kotlin
Avatar(R.drawable.avatar_gaolaoshi, Modifier.padding(8.dp, 0.dp))
```

---

#### 5. é¡µé¢å±‚çº§ç»“æ„

ç›®å‰ `DiscoveryPage` é‡Œå¥—äº†ä¸¤å±‚ `Column` å’Œä¸€å±‚ `Box`ï¼Œå…¶å® `Box` ä¸å¿…è¦ï¼Œå¯ä»¥ç›´æ¥å†™ä¸€ä¸ª `LazyColumn`ï¼Œè¿™æ ·æ€§èƒ½æ›´å¥½ï¼Œè€Œä¸”æ›´è´´è¿‘å¾®ä¿¡é‚£ç§ã€Œå‘ç°é¡µã€æ˜¯å¯æ»šåŠ¨çš„è®¾è®¡ã€‚

---

### æ”¹é€ åçš„æ ¸å¿ƒä»£ç ç¤ºä¾‹

```kotlin
@Composable
fun DiscoveryPage() {
  Column(Modifier.fillMaxSize()) {
    DiscoveryListTopBar()
    LazyColumn(
      modifier = Modifier
        .background(WeComposeTheme.colors.background)
        .fillMaxSize()
    ) {
      item {
        DiscoveryListItem(
          R.drawable.ic_moments,
          "æœ‹å‹åœˆ",
          badge = {
            Badge("3")
          },
          endBadge = {
            Avatar(R.drawable.avatar_gaolaoshi, Modifier.padding(8.dp, 0.dp))
          }
        )
      }
      item { SectionSpacer() }
      item {
        DiscoveryListItem(
          R.drawable.ic_channels,
          "è§†é¢‘å·",
          endBadge = {
            Row(verticalAlignment = Alignment.CenterVertically) {
              Avatar(R.drawable.avatar_diuwuxian, Modifier.padding(8.dp, 0.dp))
              Text(
                "èµè¿‡",
                Modifier.padding(end = 4.dp),
                fontSize = 14.sp,
                color = WeComposeTheme.colors.textSecondary
              )
            }
          }
        )
      }
      item { SectionSpacer() }
      item { DiscoveryListItem(R.drawable.ic_ilook, "çœ‹ä¸€çœ‹") }
      item { ListDivider() }
      item { DiscoveryListItem(R.drawable.ic_isearch, "æœä¸€æœ") }
      item { SectionSpacer() }
      item { DiscoveryListItem(R.drawable.ic_nearby, "ç›´æ’­å’Œé™„è¿‘") }
    }
  }
}

@Composable
fun Badge(text: String) {
  Box(
    Modifier
      .padding(8.dp)
      .clip(RoundedCornerShape(50))
      .size(18.dp)
      .background(WeComposeTheme.colors.badge)
  ) {
    Text(
      text,
      Modifier.align(Alignment.Center),
      fontSize = 12.sp,
      color = WeComposeTheme.colors.onBadge
    )
  }
}
```

---

è¿™æ ·ä¿®æ”¹åï¼Œ

* `SectionSpacer()`ã€`ListDivider()`ã€`Avatar()`ã€`Badge()` éƒ½å¯ä»¥å¤ç”¨
* `DiscoveryPage` ç»“æ„æ›´æ¸…æ™°
* ä½¿ç”¨ `LazyColumn` ä¿è¯æ‰©å±•æ€§ï¼ˆåŠ æ›´å¤šå…¥å£æ—¶æ›´æ–¹ä¾¿ï¼‰

---

è¦ä¸è¦æˆ‘å¸®ä½ æ”¹æˆ **æœ€ç»ˆå¯å¤ç”¨çš„ç»„ä»¶åº“é£æ ¼**ï¼Ÿæ¯”å¦‚æŠŠ `DiscoveryListItem` å’Œ `Badge`ã€`Avatar` éƒ½æŠ½å‡ºæ¥æ”¾åˆ°ä¸€ä¸ª `wecomponents` åŒ…é‡Œï¼Œè¿™æ ·ä»¥åå†™è”ç³»äººé¡µã€è®¾ç½®é¡µéƒ½èƒ½ç”¨ã€‚
